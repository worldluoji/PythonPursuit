<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜²é”å±å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
        }
        
        h1 {
            margin-bottom: 1rem;
            font-size: 2.5rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .description {
            margin-bottom: 2rem;
            line-height: 1.6;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .status-panel {
            display: flex;
            justify-content: space-around;
            margin: 2rem 0;
        }
        
        .status-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            min-width: 150px;
        }
        
        .status-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-top: 0.5rem;
        }
        
        .active {
            color: #4CAF50;
        }
        
        .inactive {
            color: #F44336;
        }
        
        .controls {
            margin: 2rem 0;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            margin: 0 0.5rem;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .stop-btn {
            background: #F44336;
        }
        
        .stop-btn:hover {
            background: #d32f2f;
        }
        
        .activity-indicator {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 2rem 0;
            overflow: hidden;
        }
        
        .activity-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            transition: width 0.5s;
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 2rem;
            text-align: left;
        }
        
        .info-box h3 {
            margin-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 0.5rem;
        }
        
        .info-box ul {
            padding-left: 1.5rem;
        }
        
        .info-box li {
            margin-bottom: 0.5rem;
        }
        
        .footer {
            margin-top: 2rem;
            font-size: 0.9rem;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ é˜²é”å±å·¥å…·</h1>
        <p class="description">æ­¤é¡µé¢é€šè¿‡æ¨¡æ‹Ÿç”¨æˆ·æ´»åŠ¨é˜²æ­¢ç”µè„‘è¿›å…¥ä¼‘çœ æˆ–é”å±çŠ¶æ€ã€‚ä¿æŒé¡µé¢æ‰“å¼€å³å¯ï¼Œä¸å½±å“æ‚¨çš„æ­£å¸¸æ“ä½œã€‚</p>
        
        <div class="status-panel">
            <div class="status-item">
                <div>çŠ¶æ€</div>
                <div id="status" class="status-value inactive">æœªæ¿€æ´»</div>
            </div>
            <div class="status-item">
                <div>è¿è¡Œæ—¶é—´</div>
                <div id="runtime" class="status-value">00:00:00</div>
            </div>
            <div class="status-item">
                <div>æ´»åŠ¨è®¡æ•°</div>
                <div id="activityCount" class="status-value">0</div>
            </div>
        </div>
        
        <div class="activity-indicator">
            <div id="activityBar" class="activity-bar"></div>
        </div>
        
        <div class="controls">
            <button id="startBtn">å¼€å§‹é˜²é”å±</button>
            <button id="stopBtn" class="stop-btn" disabled>åœæ­¢é˜²é”å±</button>
        </div>
        
        <div class="info-box">
            <h3>ä½¿ç”¨è¯´æ˜</h3>
            <ul>
                <li>ç‚¹å‡»"å¼€å§‹é˜²é”å±"æŒ‰é’®å¯åŠ¨é˜²é”å±åŠŸèƒ½</li>
                <li>é¡µé¢å°†æ¨¡æ‹Ÿå¾®å°é¼ æ ‡ç§»åŠ¨ï¼Œé˜²æ­¢ç³»ç»Ÿé”å±</li>
                <li>æ­¤æ“ä½œä¸ä¼šå¹²æ‰°æ‚¨çš„æ­£å¸¸ç”µè„‘ä½¿ç”¨</li>
                <li>è¦åœæ­¢é˜²é”å±ï¼Œç‚¹å‡»"åœæ­¢é˜²é”å±"æŒ‰é’®æˆ–ç›´æ¥å…³é—­é¡µé¢</li>
                <li>æ³¨æ„ï¼šæŸäº›å…¬å¸ç­–ç•¥å¯èƒ½è¦†ç›–æ­¤åŠŸèƒ½</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>æ³¨æ„ï¼šæ­¤å·¥å…·ä»…ç”¨äºé˜²æ­¢ç³»ç»Ÿè‡ªåŠ¨é”å±ï¼Œè¯·éµå®ˆæ‚¨æ‰€åœ¨ç»„ç»‡çš„è®¡ç®—æœºä½¿ç”¨æ”¿ç­–ã€‚</p>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let isActive = false;
        let activityInterval;
        let startTime;
        let activityCount = 0;
        let runtimeInterval;
        
        // DOMå…ƒç´ 
        const statusElement = document.getElementById('status');
        const runtimeElement = document.getElementById('runtime');
        const activityCountElement = document.getElementById('activityCount');
        const activityBar = document.getElementById('activityBar');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        
        // å¼€å§‹é˜²é”å±
        function startPreventingSleep() {
            if (isActive) return;
            
            isActive = true;
            activityCount = 0;
            startTime = new Date();
            
            // æ›´æ–°UIçŠ¶æ€
            statusElement.textContent = 'è¿è¡Œä¸­';
            statusElement.className = 'status-value active';
            startBtn.disabled = true;
            stopBtn.disabled = false;
            activityBar.style.width = '100%';
            
            // æ¯30ç§’æ¨¡æ‹Ÿä¸€æ¬¡æ´»åŠ¨
            activityInterval = setInterval(simulateActivity, 30000);
            
            // ç«‹å³æ‰§è¡Œä¸€æ¬¡æ´»åŠ¨
            simulateActivity();
            
            // æ›´æ–°è¿è¡Œæ—¶é—´
            runtimeInterval = setInterval(updateRuntime, 1000);
            updateRuntime();
            
            // æ›´æ–°æ´»åŠ¨è®¡æ•°
            updateActivityCount();
        }
        
        // åœæ­¢é˜²é”å±
        function stopPreventingSleep() {
            if (!isActive) return;
            
            isActive = false;
            
            // æ¸…é™¤å®šæ—¶å™¨
            clearInterval(activityInterval);
            clearInterval(runtimeInterval);
            
            // æ›´æ–°UIçŠ¶æ€
            statusElement.textContent = 'å·²åœæ­¢';
            statusElement.className = 'status-value inactive';
            startBtn.disabled = false;
            stopBtn.disabled = true;
            activityBar.style.width = '0%';
        }
        
        // æ¨¡æ‹Ÿç”¨æˆ·æ´»åŠ¨
        function simulateActivity() {
            // åˆ›å»ºä¸€ä¸ªä¸å¯è§çš„iframeå¹¶èšç„¦å®ƒï¼Œç„¶åç§»é™¤
            const iframe = document.createElement('iframe');
            iframe.style.width = '0';
            iframe.style.height = '0';
            iframe.style.border = 'none';
            iframe.style.position = 'absolute';
            iframe.style.top = '-1000px';
            document.body.appendChild(iframe);
            
            // èšç„¦iframeç„¶åç§»é™¤
            setTimeout(() => {
                iframe.contentWindow.focus();
                document.body.removeChild(iframe);
                document.body.focus();
                
                // æ›´æ–°æ´»åŠ¨è®¡æ•°
                activityCount++;
                updateActivityCount();
            }, 100);
        }
        
        // æ›´æ–°è¿è¡Œæ—¶é—´
        function updateRuntime() {
            if (!isActive) return;
            
            const now = new Date();
            const diff = now - startTime;
            
            const hours = Math.floor(diff / 3600000);
            const minutes = Math.floor((diff % 3600000) / 60000);
            const seconds = Math.floor((diff % 60000) / 1000);
            
            runtimeElement.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // æ›´æ–°æ´»åŠ¨è®¡æ•°
        function updateActivityCount() {
            activityCountElement.textContent = activityCount;
        }
        
        // äº‹ä»¶ç›‘å¬
        startBtn.addEventListener('click', startPreventingSleep);
        stopBtn.addEventListener('click', stopPreventingSleep);
        
        // é¡µé¢å¸è½½æ—¶åœæ­¢é˜²é”å±
        window.addEventListener('beforeunload', stopPreventingSleep);
        
        // åˆå§‹çŠ¶æ€
        updateRuntime();
    </script>
</body>
</html>