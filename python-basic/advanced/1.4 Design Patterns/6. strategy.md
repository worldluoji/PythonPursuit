## 策略模式与If-Else条件判断的区别

### 主要区别

1. **可维护性**
   - **If-else方式**：所有逻辑都捆绑在一起，随着条件增多变得难以维护
   - **策略模式**：每个算法都封装在独立的类/函数中，更容易独立管理

2. **可扩展性**
   - **If-else方式**：添加新条件需要修改现有代码，违反开闭原则
   - **策略模式**：可以不修改现有代码就添加新算法

3. **可测试性**
   - **If-else方式**：很难单独测试各个分支
   - **策略模式**：每个策略都可以独立测试

4. **可读性**
   - **If-else方式**：条件多时会变得复杂难读
   - **策略模式**：关注点分离更清晰，代码结构更易读

### 何时使用策略模式

1. **同一操作的多种算法**
   ```python
   # 代替这样的if-else链：
   if customer_type == "regular":
       price = amount
   elif customer_type == "vip":
       price = amount * 0.9
   elif customer_type == "premium":
       price = amount * 0.8
   ```

2. **频繁的算法变更**
   当需要在运行时切换算法时，就像你的示例中通过 set_strategy() 和 set_custom_strategy 动态切换策略一样。

3. **复杂的业务逻辑**
   当每个算法都足够复杂，值得拥有自己的类或函数时，而不是简单的条件分支。

4. **需要遵循SOLID原则时**
   - **开闭原则**：对扩展开放，对修改关闭
   - **单一职责原则**：每个策略只有一个变更理由

### 在你的示例中的优势

在你的 strategy_demo.py 中，优势很明显：
- 可以轻松添加新的定价策略而无需修改现有代码
- 通过 set_strategy() 方法可以在运行时切换策略
- 订单处理逻辑和定价计算逻辑清晰分离
- Pythonic版本展示了如何用函数优雅地实现策略概念

当你的条件判断超过几个简单的条件，特别是当这些算法可能独立演进时，策略模式尤其有价值。